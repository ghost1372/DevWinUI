<?xml version="1.0" encoding="utf-8" ?>
<ResourceDictionary xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
                    xmlns:local="using:DevWinUI">

    <ResourceDictionary.ThemeDictionaries>
        <ResourceDictionary x:Key="Light">
            <LinearGradientBrush x:Name="BackgroundGradient" StartPoint="0.5,0" EndPoint="0.5,1">
                <GradientStop Offset="0.0" Color="#CED8E4" />
                <GradientStop Offset="1.0" Color="#D5DBE3" />
            </LinearGradientBrush>
            <x:Double x:Key="ImageOpacity">0.9</x:Double>
            <LinearGradientBrush x:Key="OverlayRadialGradientEx" StartPoint="0.5,0" EndPoint="0.5,1">
                <GradientStop Offset="0" Color="#FFFFFFFF" />
                <GradientStop Offset="0.75" Color="#FFFFFFFF" />
                <GradientStop Offset="0.85" Color="#00FFFFFF" />
                <GradientStop Offset="1" Color="#00FFFFFF" />
            </LinearGradientBrush>
        </ResourceDictionary>
        <ResourceDictionary x:Key="Dark">
            <SolidColorBrush x:Key="BackgroundGradient"
                             Color="#020B20" />
            <x:Double x:Key="ImageOpacity">0.8</x:Double>
            <LinearGradientBrush x:Key="OverlayRadialGradientEx" StartPoint="0.5,0" EndPoint="0.5,1">
                <GradientStop Offset="0" Color="#FF000000" />
                <GradientStop Offset="0.75" Color="#FF000000" />
                <GradientStop Offset="0.85" Color="#00000000" />
                <GradientStop Offset="1" Color="#00000000" />
            </LinearGradientBrush>
        </ResourceDictionary>
        <ResourceDictionary x:Key="HighContrast">
            <SolidColorBrush x:Key="BackgroundGradient"
                             Color="Black" />
            <x:Double x:Key="ImageOpacity">0.8</x:Double>
            <LinearGradientBrush x:Key="OverlayRadialGradientEx" StartPoint="0.5,0" EndPoint="0.5,1">
                <GradientStop Offset="0" Color="#FF000000" />
                <GradientStop Offset="0.55" Color="#FF000000" />
                <GradientStop Offset="0.95" Color="#00000000" />
            </LinearGradientBrush>
        </ResourceDictionary>
    </ResourceDictionary.ThemeDictionaries>

    <Style BasedOn="{StaticResource DefaultHomePageHeaderImageStyle}"
           TargetType="local:HomePageHeaderImage" />

    <Style x:Key="DefaultHomePageHeaderImageStyle"
           TargetType="local:HomePageHeaderImage">
        <Setter Property="Stretch" Value="UniformToFill" />
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="local:HomePageHeaderImage">
                    <Grid>
                        <local:OpacityMaskView Grid.RowSpan="3"
                                               Height="400"
                                               VerticalAlignment="Stretch"
                                               OpacityMask="{StaticResource OverlayRadialGradientEx}">
                            <Grid x:Name="ImageGrid"
                                  Margin="0,-100,0,0"
                                  Background="{ThemeResource BackgroundGradient}">

                                <Image x:Name="PART_HeroImage"
                                       Opacity="{ThemeResource ImageOpacity}"
                                       Source="{Binding HeaderImage, RelativeSource={RelativeSource Mode=TemplatedParent}}"
                                       Stretch="{TemplateBinding Stretch}" />

                                <local:TileControl x:Name="PART_HeroTile"
                                                   ImageSource="{Binding HeaderImage, RelativeSource={RelativeSource Mode=TemplatedParent}, Converter={StaticResource StringToUriConverter}}"
                                                   Opacity="{ThemeResource ImageOpacity}"
                                                   Visibility="Collapsed" />
                            </Grid>
                        </local:OpacityMaskView>
                    </Grid>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>
</ResourceDictionary>
