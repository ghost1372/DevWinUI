<?xml version="1.0" encoding="utf-8" ?>
<ResourceDictionary xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
                    xmlns:local="using:DevWinUI">

    <ResourceDictionary.ThemeDictionaries>
        <ResourceDictionary x:Key="Light">
            <LinearGradientBrush x:Name="BackgroundGradient" StartPoint="0.5,0" EndPoint="0.5,1">
                <GradientStop Offset="0.0" Color="#CED8E4" />
                <GradientStop Offset="1.0" Color="#D5DBE3" />
            </LinearGradientBrush>
            <x:Double x:Key="ImageOpacity">0.9</x:Double>
        </ResourceDictionary>
        <ResourceDictionary x:Key="Default">
            <SolidColorBrush x:Key="BackgroundGradient"
                             Color="#020B20" />
            <x:Double x:Key="ImageOpacity">0.8</x:Double>
        </ResourceDictionary>
        <ResourceDictionary x:Key="HighContrast">
            <SolidColorBrush x:Key="BackgroundGradient"
                             Color="Black" />
            <x:Double x:Key="ImageOpacity">0.8</x:Double>
        </ResourceDictionary>
    </ResourceDictionary.ThemeDictionaries>

    <Style BasedOn="{StaticResource DefaultHomePageHeaderStyle}"
           TargetType="local:HomePageHeader" />

    <Style x:Key="DefaultHomePageHeaderStyle"
           TargetType="local:HomePageHeader">
        <Setter Property="Stretch" Value="UniformToFill" />
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="local:HomePageHeader">
                    <Grid>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto" />
                            <RowDefinition Height="Auto" />
                            <RowDefinition Height="*" />
                        </Grid.RowDefinitions>

                        <local:OpacityMaskView Grid.RowSpan="3"
                                               Height="{TemplateBinding HeaderImageHeight}"
                                               HorizontalAlignment="Stretch"
                                               VerticalAlignment="Top"
                                               OpacityMask="{ThemeResource OverlayRadialGradient}">
                            <Grid x:Name="ImageGrid"
                                  Margin="0,-100,0,0"
                                  Background="{ThemeResource BackgroundGradient}">

                                <Image x:Name="PART_HeroImage"
                                       Opacity="{ThemeResource ImageOpacity}"
                                       Source="{Binding HeaderImage, RelativeSource={RelativeSource Mode=TemplatedParent}}"
                                       Stretch="{TemplateBinding Stretch}" />

                                <local:TileControl x:Name="PART_HeroTile"
                                                   ImageSource="{Binding HeaderImage, RelativeSource={RelativeSource Mode=TemplatedParent}, Converter={StaticResource StringToUriConverter}}"
                                                   Opacity="{ThemeResource ImageOpacity}"
                                                   Visibility="Collapsed" />
                            </Grid>
                        </local:OpacityMaskView>

                        <TextBlock AutomationProperties.AutomationId="__ClickableAreaTextBlock" />
                        <StackPanel Margin="36,48,0,0"
                                    VerticalAlignment="Center"
                                    Orientation="Vertical">
                            <TextBlock x:Name="smallHeaderSubtitleText"
                                       FontFamily="{ThemeResource ContentControlThemeFontFamily}"
                                       FontSize="{TemplateBinding HeaderSubtitleFontSize}"
                                       Foreground="{TemplateBinding Foreground}"
                                       Text="{TemplateBinding HeaderSubtitleText}"
                                       Visibility="{Binding HeaderSubtitleText, RelativeSource={RelativeSource Mode=TemplatedParent}, Converter={StaticResource NullToVisibilityConverter}}" />
                            <TextBlock x:Name="smallHeaderText"
                                       FontFamily="{ThemeResource ContentControlThemeFontFamily}"
                                       FontSize="{TemplateBinding HeaderFontSize}"
                                       Foreground="{TemplateBinding Foreground}"
                                       Style="{StaticResource TitleLargeTextBlockStyle}"
                                       Text="{TemplateBinding HeaderText}"
                                       Visibility="{Binding HeaderText, RelativeSource={RelativeSource Mode=TemplatedParent}, Converter={StaticResource NullToVisibilityConverter}}" />
                        </StackPanel>

                        <local:HorizontalScrollContainer Grid.Row="2"
                                                         Margin="0,56,0,0"
                                                         Source="{TemplateBinding HeaderContent}"
                                                         Visibility="{Binding HeaderContent, RelativeSource={RelativeSource Mode=TemplatedParent}, Converter={StaticResource NullToVisibilityConverter}}" />
                    </Grid>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>
</ResourceDictionary>
